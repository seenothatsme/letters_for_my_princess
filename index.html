<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Letters for My Princess</title>
  <style>
    body {
      margin: 0;
      font-family: 'EB Garamond', serif;
      background-color: #0b3d2e;
      color: #f4f1e8;
      background-image: url('https://www.transparenttextures.com/patterns/black-linen.png');
      overflow-x: hidden;
      overflow-y: auto;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem;
      text-align: center;
      position: relative;
      z-index: 2;
    }
    .letter-box {
      background-color: #f4f1e8;
      color: #2c2c2c;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
      margin-bottom: 0.5rem;
    }
    .note {
      margin-top: 0;
      font-style: italic;
      color: #d8cfc4;
      margin-bottom: 2.5rem;
    }
    .archive {
      margin-top: 3.5rem;
      padding: 1rem;
      border: 1px solid #d8cfc4;
      border-radius: 10px;
      background-color: rgba(255, 255, 255, 0.05);
    }
    .archive a {
      color: #a3d9a5;
      text-decoration: none;
      display: block;
      margin: 0.3rem 0;
      cursor: pointer;
    }
    .archive a:hover {
      text-decoration: underline;
    }
    /* Rain animation */
    .raindrop {
      position: fixed;
      width: 2px;
      height: 15px;
      background: rgba(255, 255, 255, 0.5);
      bottom: 100%;
      animation: fall linear infinite;
      z-index: 1;
    }
    @keyframes fall {
      to { transform: translateY(100vh); }
    }
    /* Lightning flash */
    .lightning {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: white;
      opacity: 0;
      z-index: 1;
      pointer-events: none;
    }
    /* Audio Button */
    #rain-btn {
      position: fixed;
      bottom: 20px;
      left: 20px;
      background: #f4f1e8;
      color: #2c2c2c;
      padding: 10px 15px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.3);
      cursor: pointer;
      font-size: 14px;
      font-weight: bold;
      z-index: 10;
    }
    #rain-btn:hover {
      background: #e1d9c9;
    }
    /* Simulation indicator */
    .simulation-notice {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #ff6b6b;
      color: white;
      padding: 10px 15px;
      border-radius: 8px;
      font-size: 12px;
      z-index: 10;
      display: none;
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container">
    <h1>üíå A Letter for my Princess</h1>
    <div class="letter-box" id="letter-box">
      <!-- Dynamic letter content will load here -->
    </div>
    <p class="note" id="note"></p>
    <div class="archive">
      <h3>üìú Archive</h3>
      <div id="archive-list"></div>
    </div>
    
    <div id="back-to-current" style="margin-top: 2rem; display: none;">
      <a style="color: #d8cfc4; font-weight: normal; cursor: pointer;">‚Üê Back to Current Letter</a>
    </div>
  </div>
  <!-- Rain & Thunder Audio -->
  <audio id="rain-sound" loop>
    <source src="bgmusic.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>
  <!-- Button to start audio -->
  <div id="rain-btn">üéµ Click me</div>
  <!-- Lightning overlay -->
  <div class="lightning" id="lightning"></div>
  <script>
    const rain = document.getElementById("rain-sound");
    const btn = document.getElementById("rain-btn");
    btn.addEventListener("click", () => {
      rain.volume = 0.4;
      rain.play().then(() => {
        btn.style.display = "none";
      }).catch(err => {
        console.log("Playbook blocked:", err);
      });
    });
    // Generate raindrops
    for (let i = 0; i < 100; i++) {
      let drop = document.createElement("div");
      drop.classList.add("raindrop");
      drop.style.left = Math.random() * 100 + "vw";
      drop.style.animationDuration = (0.5 + Math.random() * 0.7) + "s";
      drop.style.animationDelay = Math.random() * 5 + "s";
      document.body.appendChild(drop);
    }
    // Lightning flashes
    const lightning = document.getElementById("lightning");
    function flash() {
      lightning.style.opacity = "1";
      setTimeout(() => { lightning.style.opacity = "0"; }, 100);
      if (Math.random() > 0.5) {
        setTimeout(() => {
          lightning.style.opacity = "1";
          setTimeout(() => { lightning.style.opacity = "0"; }, 150);
        }, 200);
      }
    }
    setInterval(() => {
      if (Math.random() < 0.2) { // 20% chance every 3s
        flash();
      }
    }, 3000);
    // Letters data
    const letters = [
      {
        date: "2025-08-22",
        title: "Day 1 ‚Äî August 22, 2025",
        content: `<p>My dearest princess,</p><p> As I sit here with my broken leg, rotting away in bed, I think of you. I know right now you might be returning back home from your busy day of shopping. I hope you had fun? I hope you bought a whole lot of things my princess. </p>
<p>Scratch that, you just told me you bought a lot of things. I love that for you. You deserve all the best things in this life. You're my sweetest, cutest little baby girl. </p>
<p>I really don't know where I would be without you. I love you, so much. I know you are sometimes disappointed in me for not doing much. I am a man of inaction, but you my baby, you make me want to do everything I can to make things special for you. To take care of you, to love you and cherish you, and to let you know how much I love you. </p>
<p>We're coming up on 3 years now of dating each other. Isn't that wild? It feels like a lifetime, but also it feels like we just started. You've changed my life for the better. You make me want to be a better man, for you. You deserve the best, and I feel like I've got a long way to go to be the man you deserve, but I will get there. This ain't a sob story. I will be the man you love, and you'll be with for the rest of your life. </p>
<p>Anyways, this might be a little gay? I don't know. Hope you like this virtual space I got going for you my baby. Love you so much. </p>
<p>I will keep doing this for as long as I can. And I'll keep loving you for much longer. </p>
<p>With all my love</p>
<p>Samsie</p>`
      },
      {
        date: "2025-08-23",
        title: "Day 2 ‚Äî August 23, 2025",
        content: `<p>Hello my dearest little princess!</p>
<p>I am sorry for our little spat last night. I really got upset about the fact that you couldn't spare some time for me. I think I came from a place of being anxious over where you were, and a little bit of feeling like I was abandoned. I know, maybe it was a little intense. I don't expect you to keep texting me while everyone's partying and you're out. I know that's not right. Just, it was a combination of ugly feelings. I am sorry for how I behaved and how I expressed my feelings.</p>
<p>I love you. I wanted last night to be perfect. I poured my heart into making this project happen. It was a lot of back and forth and I only did it because I love you. I thought you'd best appreciate these colours and vibe. Don't they remind you of a nice deep forest-like place? A perfect place for my little baby princess to perch and rest.</p>
<p>I want to remind you again, I love you so much. More than I knew I could love anyone. I wasn't so anxious and dare I say, needy, before this. I'd gotten used to being alone, soothing myself, keeping busy when you weren't around. I don't know if I loved that so much, but it was what it was. With you, I've also blossomed into this person. A more vulnerable, in his feelings man with some needs and wants. I'm sorry to make you feel like crap last night and imposing my negative reactions to your actions on you, even when you weren't ready for it. I was feeling very unsettled.</p>
<p>I'm sorry baby. I love you so so so much my jaana. More than you could ever think.</p>
<p>Always yours, forever and more<br>Samsiedoodie</p>`
      },
      {
        date: "2025-08-24",
        title: "Day 3 ‚Äî August 24, 2025",
        content: `<p>Lots of hugs and kisses to you princesss</p>
<p>I can't believe its just one day to our anniversary. That's crazy, isn't it? I love you so much! Its so hard to say how much I love you because I always fail to quantify it. It scares me, intimidates me. I love you so so so so so so so much.</p>
<p>I've truly and wholly been positively influenced by the girlfriend effect. You have come into my life, and made me a fuller, better man for it. Thank you. For having the patience to deal with this caveman and making me the sweet boy I am today. Before you say it, I know, I know I've got a long way to go to be better. But like, what's the rush, right? I've got a lifetime of learning and growing with you.</p>
<p>Thank you also, for sending me reels that educate me on how to be better with you. The things you sent me today were really impactful. I'll be better in how I show up in difficult situations. I'll be better in taking care of you and your emotions. I'll be gentler and softer, because you are my sweet sweet little baby. I love you so much. You're the sweetest, bestest thing in my life. Showing up for you, and making you happy in our relationship will most likely be the best thing I ever do in my life. It's my life's purpose almost. And I love it. I couldn't ask for anything else.</p>
<p>I am so excited for tomorrow my baby. I love you so much. Here's to more life, more love, more crazy moments, and a whole lotta lovin üòöüòöüòö</p>
<p>Yours, and only yours forever<br>Samsiedoodle</p>`
      },
      {
        date: "2025-08-25",
        title: "Day 4 ‚Äî August 25, 2025",
        content: `<p>Hello my babenellian</p>
<p>I love you so much. Today has been so cute, I can't. I've been a little sleepy however, missed my 6pm mark. But you'll allow me a little leeway, won't you?</p>
<p>HAPPY 3 YEARS ANNIVERSARY BABY! I miss you a lot, but I've been relatively okay. I've been reliving some of our memories, and man, it has been so great having you to share my life with. I cannot wait to form so more memories with you my baby.</p>
<p>I love your new nails so much! They're so much cuter than the last ones, and they suit you so well! I am sad I'm missing out on holding and kissing them, but you can get those done again! Hehe. Maybe next time you could also try a different colour. Maybe a sage green? Or a black? I don't know, you decide.</p>
<p>Have fun tonight baby. May the stars glow extra bright for you today. May they reflect the love I have for you in my heart. You're my heart, you're my light. You're my everything.</p>
<p>Islands in the stream<br>
That is what we are<br>
No one in between<br>
How can we be wrong?<br>
Sail away with me<br>
To another world</p>
<p>Love you so much, and always yours<br>Samshuddin</p>`
      },
      {
        date: "2025-08-26",
        title: "Day 5 ‚Äî August 26, 2025",
        content: `<p>Hi baby</p>
<p>I'm sorry about the way I reacted to things today. I miss you, and I love you, and only you.</p>
<p>I hope we can talk to each other about this again over clearer heads. I still feel like you don't listen to me enough and I get put into a high pressure situation where I say things that I don't even want to, or mean to.</p>
<p>I am sorry for hurting you with my mean words today. I hope you can come back and talk to me again, in a better, more considerate way. I've been reflecting on our communication patterns, and I realize I need to do better at expressing my needs without putting pressure on you. When I feel unheard or misunderstood, I sometimes react from a place of frustration rather than love, and that's not okay. The pressure I felt doesn't excuse the hurtful words that came out of my mouth.</p>
<p>I only want you, and I only need you. I'm here whenever you're ready to talk. There's no rush, no pressure - just me, waiting with love and hope that we can move forward together, stronger than before. You are my everything, my jaan. I love you deeply and completely.</p>
<p>Lots of love<br>Samsie</p>`
      },
      {
        date: "2025-08-27",
        title: "Day 6 ‚Äî August 27, 2025",
        content: `<p>Hi my little princesss!</p>
<p>I love you so much ya. I miss you so much.</p>
<p>You look so gorgeous. I saw you on video call fully, and I was like what the fuck, I was made quite by how pretty you looked. I stood still, and you know how hard that is to do. Your hair, your brows, your face, all of it are so fucking pretty.</p>
<p>I'm so happy for you, for your Goa trip. You've been wanting to go for a trip like this, especially the solo travelling part, and now you're getting it! I'm so excited. I know you'll take care of yourself and all, but still, please don't do anything stupid. Don't go into shady areas and keep your wits by yourself. And come back soon and safe, okay?</p>
<p>I'll be missing you so much. But you have your fun there okay? Don't think too much about me and everything else. We'll all be fine. You have fun, and make precious little memories there. Okay? We'll also go there again, all by ourselves, and you can show me all the places you love. I can't wait to see you my love.</p>
<p>All my love<br>Samsie</p>`
      },
      {
        date: "2025-08-28",
        title: "Day 7 ‚Äî August 28, 2025",
        content: `<p>Hello my little baby</p>
<p>What a day, huh? You've gotten such a crazy story you've got for today. I've never known anyone also who's gotten a flight of their redirected to somewhere else. You've been through it now. Haha. How do you feel? If I were you, I'd use this story when we meet our friends. It's a unique experience to have had.</p>
<p>I'm sorry I'm late today. I've had a rollercoaster of a day too. I never imagines to get these tickets and now that I have, I've worked myself into a panic, and I've been feeling drained. Its crazy.</p>
<p>Anyways, I just wanted to tell you that I know you've planned to go to Goa with a daily plan, and I know you, that you'd be upset if things didn't go the way you wanted them to be. I know you, and you can be hard on yourself. Don't feel like you have to maximize each and every day of your time there baby. Don't ride yourself so hard my little baby. I want you to take care of yourself, and stay safe. I guess I'm also anxious about you being there alone, by yourself.</p>
<p>I miss you so much. I wish I could just fly over there right about now, and keep you safe, warm and cared for.</p>
<p>I love you so much my little Goan baby girl üòö</p>
<p>Yours always<br>Netaaaji</p>`
      },
      {
        date: "2025-08-29",
        title: "Day 8 ‚Äî August 29, 2025",
        content: `<p>Hi my little jaana.</p>
<p>How are my little pukito. My little babytoo. I miss you so much jaan. You have no idea. I'm counting down the days till you come back, and we can meet and just be.</p>
<p>I'm so proud of the baby girl that you are. You're so kind, so smart, so cute. You're my one, and only baby.</p>
<p>Have I ever told you how cute you look when you're sleeping in bed right next to me? You look like if a slice of heaven just came down and settled itself right next to me. Patiently. Lovingly. There's no better feeling than when we lock eyes while laying next to each other. Oof. I'm so lucky that I get to pet you as I put you to sleep. That sweet little smile of yours, with the little whiny questions you ask when I stop. I love each and every moment of that.</p>
<p>And then how you insist na that you're not asleep. Even though I can witness you falling asleep right in front of me? I guess we're both shameless like that. I love how we just get along like that, mimicking each other's bullshit. May we never change.</p>
<p>Stay safe haan baby. I want you back asap. Always keep me around and love me how only you can.</p>
<p>Madly, crazily in love with you<br>Samsiedoodiepoopaa</p>`
      },
      {
        date: "2025-08-30",
        title: "Day 9 ‚Äî August 30, 2025",
        content: `<p>Hi my little princess</p>
<p>I was going to write you a letter telling you how upset I was at you, but I can't be upset at you for long anyways. You're my sweet little honeybuns no?</p>
<p>Anyways, I'm so glad you decided to go get breakfast and lunch outside today. It must be nice getting all that Goan sun and food in you. I so want to go on all these adventures with you. It'd so freaking cute to toil around on a scooty with you. We'll go haan. Go recce all the cute places with the good food.</p>
<p>I'm holding it down here. I miss you a lot. I'll be counting down the days till you come back and I can hold you in my arms again. I love you so much. I miss you so much. It now feels like an eternity since I've been held by you my jaan. Can you find a way to make these days go quicker and you come back to me quicker-er.</p>
<p>No but seriously tho, I want you to enjoy your time there as much as you can. Have fun, and make the cutest of memories.</p>
<p>Always your cheerleader,<br>Samsiedoodie</p>`
      },
      {
        date: "2025-08-31",
        title: "Day 10 ‚Äî August 31, 2025",
        content: `<p>Hi my little smoolie baby girl</p>
<p>I missed you so much last night. You have no idea. I know you were having fun and living your best life, but I don't like you being away from me for so long. I know its selfish of me to want you to all to myself all the time. Maybe I'm a little insecure, and I miss you so much. I can't wait to be with you ya. It gets boring and bleak without you.</p>
<p>I also don't do much else. All these days mostly I've been laying around and playing. I feel weird. I haven't felt the wind or the outdoors in such a long time. It makes you go a little crazy. All confined like that.</p>
<p>I can't wait to count down the days where I can be with you again. I'm sorry I get a little upset with you when you're just there having fun with your friends. I know its not fair to you. I love you. I want you to have all the fun, and all the memories. I'll be here, always, whenever you need me. I'm yours, I can wait patiently.</p>
<p>Forever yours, and only yours<br>Samsie</p>`
      }
    ];
    const startDate = new Date("2025-08-22T18:00:00"); // Day 1 release date 6pm
    function getCurrentDay() {
      const now = new Date();
      
      // Manual day calculation based on current date
      const currentDate = now.getDate();
      const currentHour = now.getHours();
      
      console.log("Current date:", currentDate);
      console.log("Current hour:", currentHour);
      
      let dayIndex = 0; // Default to Day 1
      
      if (currentDate === 22) {
        // Aug 22 - Day 1 shows at 6pm or later
        dayIndex = currentHour >= 18 ? 0 : -1;
      } else if (currentDate === 23) {
        // Aug 23 - Day 2 shows at 6pm or later, Day 1 before 6pm
        dayIndex = currentHour >= 18 ? 1 : 0;
      } else if (currentDate === 24) {
        // Aug 24 - Day 3 shows at 6pm or later, Day 2 before 6pm
        dayIndex = currentHour >= 18 ? 2 : 1;
      } else if (currentDate === 25) {
        // Aug 25 - Day 4 shows at 6pm or later, Day 3 before 6pm
        dayIndex = currentHour >= 18 ? 3 : 2;
      } else if (currentDate === 26) {
        // Aug 26 - Day 5 shows at 6pm or later, Day 4 before 6pm
        dayIndex = currentHour >= 18 ? 4 : 3;
      } else if (currentDate === 27) {
        // Aug 27 - Day 6 shows at 6pm or later, Day 5 before 6pm
        dayIndex = currentHour >= 18 ? 5 : 4;
      } else if (currentDate === 28) {
        // Aug 28 - Day 7 shows at 6pm or later, Day 6 before 6pm
        dayIndex = currentHour >= 18 ? 6 : 5;
      } else if (currentDate === 29) {
        // Aug 29 - Day 8 shows at 6pm or later, Day 7 before 6pm
        dayIndex = currentHour >= 18 ? 7 : 6;
      } else if (currentDate === 30) {
        // Aug 30 - Day 9 shows at 6pm or later, Day 8 before 6pm
        dayIndex = currentHour >= 18 ? 8 : 7;
      } else if (currentDate > 30) {
        // Future dates
        const daysAfter30 = currentDate - 30;
        dayIndex = currentHour >= 18 ? (8 + daysAfter30) : (7 + daysAfter30);
      }
      
      console.log("Calculated dayIndex:", dayIndex);
      
      return Math.max(0, dayIndex);
    }
    function loadLetter(dayIndex, isFromArchive = false) {
      const letterBox = document.getElementById("letter-box");
      const note = document.getElementById("note");
      const backButton = document.getElementById("back-to-current");
      if (dayIndex < letters.length) {
        letterBox.innerHTML = `<h2>${letters[dayIndex].title}</h2>${letters[dayIndex].content}`;
        note.textContent = "The next letter comes at 6pm tomorrow, my princess";
      } else {
        letterBox.innerHTML = `<h2>More letters coming soon</h2>`;
        note.textContent = "The next letter comes at 6pm tomorrow, my princess";
      }
      // Show/hide back button based on whether viewing archived letter
      if (isFromArchive) {
        backButton.style.display = "block";
      } else {
        backButton.style.display = "none";
      }
    }
    function loadArchive(currentDay) {
      const archive = document.getElementById("archive-list");
      const backButton = document.getElementById("back-to-current");
      
      archive.innerHTML = "";
      letters.forEach((letter, index) => {
        if (index < currentDay) {
          const link = document.createElement("a");
          link.textContent = letter.title;
          link.onclick = () => loadLetter(index, true); // Pass true to indicate from archive
          archive.appendChild(link);
        }
      });
      // Set up back button functionality
      backButton.onclick = () => loadLetter(currentDay, false);
    }
    const currentDay = getCurrentDay();
    console.log("Current day:", currentDay);
    loadLetter(currentDay);
    loadArchive(currentDay);
  </script>
</body>
</html>
